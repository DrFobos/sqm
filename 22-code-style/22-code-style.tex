% (The MIT License)
%
% Copyright (c) 2023-2024 Yegor Bugayenko
%
% Permission is hereby granted, free of charge, to any person obtaining a copy
% of this software and associated documentation files (the 'Software'), to deal
% in the Software without restriction, including without limitation the rights
% to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
% copies of the Software, and to permit persons to whom the Software is
% furnished to do so, subject to the following conditions:
%
% The above copyright notice and this permission notice shall be included in all
% copies or substantial portions of the Software.
%
% THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
% IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
% FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
% AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
% LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
% OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
% SOFTWARE.

\documentclass{article}
\usepackage{../sqm}
\newcommand*\thetitle{Code Style}
\begin{document}

\plush{\sqmTitlePage{22}{}}

\pptBanner{Which One Is Better?}
\begin{multicols}{2}
{\small\begin{ffcode}
int f(int n)
{
  if (n == 1 || n < 2)
    return 1;
  int r = f (n-1);
  int r2 = f(n - 2);
  return r +r2;
  }
\end{ffcode}
}
\par\columnbreak\par
{\small\begin{ffcode}
int fibonacci(int n) {
  if (n <= 2) {
    return 1;
  }
  return fibonacci(n - 1)
    + fibonacci(n - 2);
}
\end{ffcode}
}
\end{multicols}
\plush{}

\qte
  [Brian Kernighan]
  {../19-comments-density/brian-kernighan.jpg}
  {The harder it is for people to \ul{grasp the intent} of any given section, the longer it will be before the program becomes \ul{operational}. Trying to outsmart a compiler defeats much of the purpose of using one. Write clearly --- \ul{don't sacrifice} clarity for `efficiency.'}
  {kernighan1974elements}

\qte
  {berry-meekings.png}
  {The `elegance' or `style' of a program is sometimes considered a nebulous attribute that is somehow unquantifiable; a programmer has an \ul{instinctive} feel for a `good' or a `bad' program in much the same way as an artist distinguishes good and bad paintings.}
  {berry1985style}
\plush{\pptBanner{Berry-Meekings Score}
  \begin{multicols}{2}
  \includegraphics[width=.95\linewidth]{berry-score.png}
  \par\columnbreak\par
  An individual score for each metric is determined by reference to the value in this table for
    \begin{enumerate}
      \item the point $L$, below which no score is obtained;
      \item the point $S$, the start of the ``ideal'' range for the metric;
      \item the point $F$, the end of the ideal range;
      \item the point $H$, above which no score is obtained.
    \end{enumerate}
    \source{berry1985style}
  \end{multicols}}

\qte
  [Henry Ledgard]
  {henry-ledgard.jpg}
  {An individual's body language helps clarify the spoken word. In a similar sense, the programmer relies on \ul{white space}---what is not said directly---in the code to communicate logic, intent, and understanding.}
  {green2011coding}
\pitch{\includegraphics[width=.95\linewidth]{three-ifs.png}
  \source{green2011coding}}

\qte
  [Peter C. Rigby]
  {peter-rigby.jpg}
  {We list the reasons why our interviewees \ul{rejected} a patch or required further modification before accepting it:
    Poor quality,
    \ul{Violation of style},
    Gratuitous changes mixed with `true' changes,
    Code does not do or fix what it claims to or introduces new bugs,
    Fix conflicts with existing code,
    Use of incorrect API or library.}
  {rigby2011understanding}

\qte
  [Jennifer Bauer]
  {jennifer-bauer.jpg}
  {While the perceptual processing of code is required to understand it, \ul{higher level processing}, such as understanding its semantics and reasoning about its functionality, affect program comprehensibility more strongly. The influence of indentation could have been masked by these side effects, so it might well be that the effect of indentation comes more into play when the code is \ul{longer} and \ul{more complex}.}
  {bauer2019indentation}

\qte
  [Weiqin Zou]
  {weiqin-zou.jpg}
  {A pull request that is \ul{consistent} with the current code style tends to be merged into the codebase more \ul{easily} (faster).}
  {bauer2019indentation}

\plush{\pptBanner{My Favorite Style Checkers}
  \begin{itemize}
    \item \href{https://eslint.org/}{ESLint} for JavaScript
    \item \href{https://clang.llvm.org/extra/clang-tidy/}{Clang-Tidy} for C++
    \item \href{https://github.com/pylint-dev/pylint}{Pylint} for Python
    \item \href{https://github.com/rubocop/rubocop}{Rubocop} for Ruby
    \item \href{https://github.com/squizlabs/PHP_CodeSniffer}{PHP\_CodeSniffer} for PHP
    \item \href{https://github.com/rust-lang/rustfmt}{rustfmt} for Rust
    \item \href{https://www.qulice.com}{Qulice} by \citep{bugayenko2014blog0813} for Java (\href{https://checkstyle.sourceforge.io/}{Checkstyle} + \href{https://pmd.github.io/}{PMD})
  \end{itemize}}

\plush{\pptBanner{How Many Rules in Style Checkers?}
  \begin{itemize}
    \item 690+ in Clang-Tidy (C++)
    \item 550+ in Rubocop (Ruby)
    \item 400+ in PMD (Java)
    \item 130+ in Checkstyle (Java)
    \item 120+ in Pylint (Python)
  \end{itemize}
  \par{\small Some/most of the rules no only check style, but also find bugs\par}}

\plush{\pptBanner{Some Exotic Style Checkers}
  \begin{itemize}
    \item \href{https://github.com/koalaman/shellcheck}{Shellcheck} for Bash
    \item \href{https://github.com/markdownlint/markdownlint}{markdownlint} for Markdown
    \item \href{https://github.com/mrtazz/checkmake}{Checkmake} for Makefile
    \item \href{https://github.com/yegor256/xcop}{xcop} for XML
  \end{itemize}}

\end{document}
